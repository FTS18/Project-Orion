SUPER PROMPT — Generate complete Dual-Mode Agentic AI Loan Assistant (Builder-Optimized, Ollama only, SOLID, Latest Tech, Includes Data, Evaluation & Submission Requirements)

Produce a full, production-grade codebase and deliverables for “Agentic AI Loan Assistant — Dual Mode App”. Output must be generator/builder-friendly (v0.dev, Locofy, Bolt.new, Windframe, Lovable, Ollama LLM, etc.). Follow SOLID principles, Domain-Driven Design, strict TypeScript, and modular Python backend. Use Ollama models only (no GPT). Target latest stable releases: Next.js 14 (App Router, RSC, Server Actions), TailwindCSS 3.4+, ShadCN/UI, Python 3.12 + FastAPI.

Produce everything listed below exactly as requested.

Primary requirements (must be satisfied)

Two UI Modes on one site:

Standard Mode (No AI) — wizard form flow + buttons + file upload + sanction PDF.

Agentic AI Mode (Multi-Agent) — chat UI (Master Agent) + Worker Agent panels (Sales, Verification, Underwriting, Sanction Letter) + logs + workflow graph + auto/step controls.

Ollama integration only for all AI model calls. Provide model configs and sample prompts for LLaMA3 / Mistral / Phi-3.

Backend agents implemented as services in FastAPI; agent orchestration via LangGraph or CrewAI patterns (YAML agent profiles + orchestrator service), but use Ollama as model provider.

Follow SOLID and separation of concerns. Provide interfaces/abstractions so agents or models can be swapped.

Full design system: CSS variables (design tokens), light/dark modes, next-themes integration, all colors/sizes via tokens (no hardcoded values).

The project must include mock servers/APIs and synthetic customer data described below.

Include README with setup (how to install Ollama models, start backend, run frontend), deployment notes (Vercel + Railway + Ollama local server example), and a 3–4 minute demo script with timestamps.

Include a 4-minute demo video script and judge talking points that map to evaluation criteria.

Output format required from the generator

Full folder tree

All source files (frontend & backend)

Config files (next.config.js, tailwind.config.js, tsconfig.json, pyproject or requirements)

SQL or Supabase table schemas (or JSON files)

data/customers.json and data/customers.csv (10 synthetic customers — sample included below)

Mock API implementations: /api/offer-mart, /api/crm, /api/credit-bureau, /api/upload

README.md with exact run steps

Demo script and judging checklist

A small architecture.md with ASCII/high-level diagram

A sanction-templates/ with PDF template and a Python generator example

Unit test stubs for key services (underwriting, verification)

Functional endpoints (backend)

Implement these REST endpoints (FastAPI) and describe payloads & responses:

POST /verify-kyc — body: {customerId, name, phone, address} → {status, mismatches[]}

POST /extract-salary — body: multipart file upload (salary slip PDF/image) → {grossIncome, netIncome, employer, parsed=false|true}

POST /underwrite — body: {customerId, loanRequest:{amount, tenure, rate}, creditScore?, preApprovedLimit?} → {decision: APPROVE|REJECT|PENDING, reason, requiredAction}

POST /generate-sanction-letter — body: {customerId, loanTerms, signatory} → returns PDF URL

GET /crm/:customerId — returns dummy KYC

GET /credit/:customerId — returns {score, preApprovedLimit} (mock credit bureau)

GET /offers — Offer mart server returns pre-approved offers

All endpoints must validate input and return clear error codes.

Agent orchestration rules (exact)

Underwriting rules (enforced by Underwriting Agent):

If creditScore < 700 → REJECT.

If loanAmount ≤ preApprovedLimit → APPROVE instantly.

If loanAmount ≤ 2 × preApprovedLimit → request salary slip:

Extract salary via OCR.

Calculate monthly EMI (standard amortization).

If EMI ≤ 50% of monthly net salary → APPROVE.

Else → REJECT.

If loanAmount > 2 × preApprovedLimit → REJECT.

Verification rules:

Phone and name must match CRM record (exact match or fuzzy threshold); address must match city/pincode.

If mismatch → return PENDING and instruct Master Agent to request corrected info.

Sales Agent:

Collects amount, tenure, purpose, contact.

Suggests rates from Offer Mart; returns structured loan request.

Sanction Letter Agent:

Only runs on APPROVED decisions; populates PDF template with decision metadata, customer data, schedule, and unique reference number.

Data & system assumptions (must be included verbatim in generated docs)

Use synthetic dataset of 10 customers (create both CSV and JSON). Each record must contain:

customerId, name, age, city, phone, email, existingLoan (yes/no + amount), creditScore (0–900), preApprovedLimit (INR), employmentType (Salaried/Self-Employed), monthlyNetSalary

Offer Mart server: host pre-approved loan offers keyed by customerId and creditBand.

CRM server: contains KYC fields: name, phone, address, pincode, dob.

Credit bureau API: returns score (0–900) and preApprovedLimit (INR).

File upload: salary slip upload is simulated; OCR must be demonstrated on dummy PDFs (PDFs with embedded text or images). Include at least two sample salary slip PDFs in data/salary-slips/.

Teams can assume INR currency for all amounts.

Reasonable latency for mock APIs: simulate 80–300ms.

Synthetic customer dataset (include this exact CSV and JSON in /data)
data/customers.csv
customerId,name,age,city,phone,email,existingLoan,existingLoanAmount,creditScore,preApprovedLimit,employmentType,monthlyNetSalary
CUST001,Anita Verma,29,Delhi, +91-9810000001,anita.verma@example.com,no,0,720,150000,Salaried,65000
CUST002,Rahul Mehra,35,Mumbai,+91-9810000002,rahul.mehra@example.com,yes,250000,680,100000,Salaried,85000
CUST003,Sneha Kapoor,42,Bengaluru,+91-9810000003,sneha.kapoor@example.com,no,0,790,200000,Self-Employed,120000
CUST004,Prakash Singh,31,Chandigarh,+91-9810000004,prakash.singh@example.com,no,0,695,90000,Salaried,40000
CUST005,Meera Nair,27,Hyderabad,+91-9810000005,meera.nair@example.com,yes,120000,710,110000,Salaried,50000
CUST006,Aditya Rao,38,Pune,+91-9810000006,aditya.rao@example.com,no,0,650,80000,Self-Employed,95000
CUST007,Sunita Ghosh,45,Kolkata,+91-9810000007,sunita.ghosh@example.com,yes,500000,730,250000,Salaried,180000
CUST008,Dev Patel,30,Ahmedabad,+91-9810000008,dev.patel@example.com,no,0,770,160000,Salaried,70000
CUST009,Ritika Sharma,33,Jaipur,+91-9810000009,ritika.sharma@example.com,no,0,640,60000,Self-Employed,55000
CUST010,Karan Verma,28,Noida,+91-9810000010,karan.verma@example.com,no,0,705,95000,Salaried,48000

data/customers.json

Provide equivalent JSON array with same records.

Evaluation criteria (must be included with weights)

Include these exact evaluation categories in evaluation.md:

Technical design — 40%

Use of an Agentic AI framework (LangGraph, CrewAI, AutoGen, etc.)

Clean orchestration and separation of Master & Worker agents

SOLID + extensible architecture

Realism of data & workflow — 25%

Quality of synthetic data, Offer Mart & CRM mocks, file handling

Real-world-like underwriting rules & decision traceability

Conversation flow — 25%

Natural, persuasive, non-linear dialogue handling

Clear fallback and re-ask logic for missing/mismatched data

Demo quality — 10%

Live demo or recorded 3–4 minute walkthrough from chat initiation to sanction letter

Map each deliverable to these weights in README and demo script.

Submission format (must be explicit)

Deliver a ZIP (or Git repo) containing:

/frontend — Next.js app (complete)

/backend — FastAPI app (complete)

/data — customers CSV/JSON, sample salary slips, offer-mart seed

/docs — architecture.md, evaluation.md, demo-script.md, submission-checklist.md

/sanction-templates — PDF templates and a generator script

README.md — setup & run steps + how to install Ollama and models

demo.mp4 — optional (if generator can create a script; otherwise provide script + timestamps)

Unit test folder /tests with sample tests
Include exact commands to run:

pnpm install / pnpm dev for frontend

pip install -r requirements.txt / uvicorn backend.app:app --reload for backend

Ollama model load instructions (CLI commands)

Tips for participants (must be in docs/tips.md)

Include these exact suggestions:

Keep the chatbot conversational and persuasive (scripts for objection handling).

Focus on orchestration logic: show how Master Agent decides which Worker to call and why.

Demonstrate edge cases: credit score rejection, salary slip required, document mismatch.

Use design tokens to enable quick theming during demo.

Keep data realistic and anonymized (use synthetic data).

Record a short 3–4 minute demo that walks judges through:

Landing page and mode toggle (10s)

Standard mode end-to-end apply flow (50s)

Agentic mode auto run (60s)

Edge case (salary slip required / rejection) (50s)

Sanction letter generation and download (30s)

Architecture overview and where to find code (30s)

Q&A prompts for judges (20s)

Additional generator requirements (must be enforced)

Provide TypeScript types shared across frontend & backend (e.g., LoanRequest, UnderwritingResult) and include a small codegen script to sync types.

Provide a policy folder with underwriting rule definitions in JSON/YAML that Underwriting Agent consumes.

Provide clearly commented code and JSDoc/pyDoc for major modules.

Provide docker-compose.yml example assembling frontend, backend, and an Ollama server stub.

Provide installation steps for installing required Ollama models with exact CLI sample commands.

Implement a simple audit trail logger for underwriting decisions saved to backend/storage/audit.log and exposed via GET /audit/:customerId.

Include accessibility basics (aria labels, keyboard nav) and mobile responsiveness.

Deliverable checklist (generator must output this in submission-checklist.md)

 Frontend builds and runs

 Backend builds and runs

 Ollama models instructions included

 data/customers.csv and data/customers.json present

 Mock APIs respond

 Salary slip OCR works on sample slips

 Underwriting rules enforced and logged

 Sanction letters generated and downloadable

 Demo script included

 evaluation.md included

Additional: Example demo script snippet (include exact timestamps in demo-script.md)

00:00–00:10 — Landing page + Mode toggle

00:10–01:00 — Standard Mode: complete apply flow to sanction letter

01:00–02:00 — Agentic Mode: Run Auto Mode; show agent panels and logs

02:00–02:50 — Edge case: Customer with low score → rejection flow

02:50–03:30 — Salary slip required flow → upload → approve

03:30–04:00 — Sanction letter download + architecture summary

Generator output tone & structure

Produce files and code only — no extra commentary outside generated files.

Where textual descriptions are required (README, docs), use concise, professional language.

Add comments in code to highlight SOLID/DDD decisions.

Final note for generator

Treat this as a single-step generation: produce the complete repository structure and all files in one deliverable. Ensure all pieces above are included verbatim where specified (data/customers.csv, evaluation.md, docs/tips.md, submission-checklist.md). Ensure Ollama integration is explicit with example calls and model names. Use CSS tokens for theming exclusively and provide a theme.ts showing variables and a small script to regenerate CSS variables from tokens.